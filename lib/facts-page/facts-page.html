<polymer-element name="facts-page">
  <template>
    <link href="facts-page.css" rel="stylesheet">

    <div id='yar'>
      <h3>FACTS</h3>
      <paper-button on-tap='{{tapAdd}}' id='newbtn' raised>Add New Fact</paper-button>
    </div>

    <core-ajax
      id='ajax'
      url="/api"
      contentType="application/json"
      handleAs="json"
      on-core-response="{{handleResponse}}"></core-ajax>

    <center>
      <paper-spinner class='red' active hidden?='{{!!facts}}'></paper-spinner>

      <table hidden?='{{!facts}}'>
        <thead>
          <th>Star</th>
          <th>Votes</th>
          <th>Title</th>
          <th>Tags</th>
          <th>Views</th>
          <th>Activity</th>
        </thead>
        <tbody>
          <template repeat='{{fact in facts}}'>
            <tr>
              <td class='star'>
                <core-icon icon='star-outline'></core-icon>
              </td>
              <td class='votes'>{{fact.votes_count}}</td>
              <td>
                <a href='/#/facts/[[fact.id]]'>[[fact.title]]</a>
              </td>
              <td>[[fact.tag_list]]</td>
              <td>[[fact.views]]</td>
              <td>[[fact.created_at]]</td>
            </tr>
          </template>
        </tbody>
      </table>
    </center>

  </template>

  <script type="text/javascript" src='facts-page.js'></script>
</polymer-element>
